# Core runtime
PORT=3000
STATE_DIR=./state
WORKER_POLL_MS=250
NOTIFICATION_POLL_MS=250
REMINDER_POLL_MS=500
MEMORY_COMPACTION_ENABLED=true
MEMORY_COMPACTION_INTERVAL_MS=3600000
MEMORY_COMPACTION_MAX_DAYS_PER_RUN=2
MEMORY_COMPACTION_MIN_EVENTS_PER_DAY=6
MEMORY_COMPACTION_MAX_EVENTS_PER_DAY=600
MEMORY_COMPACTION_MAX_NOTE_CHARS=8000
MEMORY_COMPACTION_SESSION_ID=owner@s.whatsapp.net
HEARTBEAT_ENABLED=true
HEARTBEAT_INTERVAL_MS=1800000
HEARTBEAT_ACTIVE_HOURS_START=9
HEARTBEAT_ACTIVE_HOURS_END=22
HEARTBEAT_REQUIRE_IDLE_QUEUE=true
HEARTBEAT_DEDUPE_WINDOW_MS=7200000
HEARTBEAT_SUPPRESS_OK=true
HEARTBEAT_SESSION_ID=owner@s.whatsapp.net
HEARTBEAT_PENDING_NOTIFICATION_ALERT_THRESHOLD=5
HEARTBEAT_ERROR_LOOKBACK_MINUTES=120
HEARTBEAT_ALERT_ON_AUTH_DISCONNECTED=true
HEARTBEAT_ALERT_ON_WHATSAPP_DISCONNECTED=true
HEARTBEAT_ALERT_ON_STUCK_JOBS=true
HEARTBEAT_STUCK_JOB_THRESHOLD_MINUTES=30
STREAM_MAX_EVENTS=5000
STREAM_RETENTION_DAYS=14
STREAM_DEDUPE_WINDOW_MS=2500
PUBLIC_BASE_URL=http://localhost:3000
ALFRED_WORKSPACE_DIR=./workspace/alfred
ALFRED_APPROVAL_MODE=balanced
ALFRED_APPROVAL_DEFAULT=true
ALFRED_PLANNER_ENABLED=true
ALFRED_PLANNER_MIN_CONFIDENCE=0.65
ALFRED_PLANNER_SYSTEM_FILES=docs/alfred_identity.md,docs/alfred_capabilities.md,docs/alfred_policies.md
ALFRED_WEB_SEARCH_ENABLED=true
ALFRED_WEB_SEARCH_REQUIRE_APPROVAL=true
ALFRED_WEB_SEARCH_PROVIDER=openai
ALFRED_FILE_WRITE_ENABLED=false
ALFRED_FILE_WRITE_REQUIRE_APPROVAL=true
ALFRED_FILE_WRITE_NOTES_ONLY=true
ALFRED_FILE_WRITE_NOTES_DIR=notes
BRAVE_SEARCH_API_KEY=
BRAVE_SEARCH_URL=https://api.search.brave.com/res/v1/web/search
BRAVE_SEARCH_TIMEOUT_MS=12000
BRAVE_SEARCH_MAX_RESULTS=5
PERPLEXITY_API_KEY=
PERPLEXITY_SEARCH_URL=https://api.perplexity.ai/chat/completions
PERPLEXITY_MODEL=sonar
PERPLEXITY_TIMEOUT_MS=20000

# OAuth
OAUTH_OPENAI_MODE=mock
OAUTH_STATE_TTL_SEC=600
OAUTH_TOKEN_ENCRYPTION_KEY=change_me_for_local_use
OAUTH_OPENAI_CLIENT_ID=
OAUTH_OPENAI_CLIENT_SECRET=
OAUTH_OPENAI_AUTHORIZE_URL=
OAUTH_OPENAI_TOKEN_URL=
OAUTH_OPENAI_SCOPE=responses.read responses.write offline_access

# Codex app-server auth/runtime (recommended for ChatGPT OAuth-backed usage)
CODEX_APP_SERVER_ENABLED=false
CODEX_APP_SERVER_COMMAND=codex
CODEX_APP_SERVER_CLIENT_NAME=alfred-gateway
CODEX_APP_SERVER_CLIENT_VERSION=0.1.0
CODEX_AUTH_LOGIN_MODE=chatgpt
CODEX_MODEL=
CODEX_TURN_TIMEOUT_MS=120000
CODEX_ACCOUNT_REFRESH_BEFORE_TURN=true

# Responses API runtime
OPENAI_RESPONSES_ENABLED=true
OPENAI_RESPONSES_URL=https://api.openai.com/v1/responses
OPENAI_RESPONSES_MODEL=gpt-4.1-mini
OPENAI_RESPONSES_TIMEOUT_MS=20000
OPENAI_API_KEY=

# WhatsApp provider runtime
WHATSAPP_PROVIDER=stdout
WHATSAPP_BAILEYS_AUTO_CONNECT=false
WHATSAPP_BAILEYS_AUTH_DIR=./state/whatsapp/baileys_auth
WHATSAPP_BAILEYS_INBOUND_TOKEN=
WHATSAPP_BAILEYS_ALLOW_SELF_FROM_ME=false
WHATSAPP_BAILEYS_REQUIRE_PREFIX=/alfred
WHATSAPP_BAILEYS_ALLOWED_SENDERS=
WHATSAPP_BAILEYS_MAX_TEXT_CHARS=4000
WHATSAPP_BAILEYS_RECONNECT_DELAY_MS=3000
WHATSAPP_BAILEYS_MAX_QR_GENERATIONS=3
